== 什么是SQL注入？

SQL注入（也称为SQLi）是最常见的Web黑客技术之一。*SQL注入攻击包括通过从客户端到应用程序的SQL查询输入插入或"注入"恶意代码。* 如果处理不当，SQL注入会严重影响数据完整性和安全性。

当来自客户端的未经过滤的数据（例如来自搜索字段的输入）进入应用程序本身的SQL解释器时，就可能发生SQL注入。如果应用程序未能正确清理用户输入（使用预处理语句或类似方法）或过滤特殊字符输入，黑客就可以操纵底层SQL语句以谋取利益。
例如，如果不对SQL元字符（如*--*（注释掉行的其余部分）或*;*（结束SQL查询））进行输入过滤，就可能导致SQL注入。

{nbsp} +

== SQL注入示例

例如，考虑一个允许用户通过在表单字段中输入用户名来检索用户信息的Web应用程序。来自用户的输入被发送到服务器，并插入到SQL查询中，然后由SQL解释器处理。

从数据库检索用户信息的SQL查询如下：+
-------------------------------------------------------
"SELECT * FROM users WHERE name = '" + userName + "'";
-------------------------------------------------------

变量*userName*保存来自客户端的输入并将其"注入"到查询中。+
如果输入是Smith，查询将变为+
-------------------------------------------------------
"SELECT * FROM users WHERE name = 'Smith'";
-------------------------------------------------------
并将检索名为Smith的用户的所有数据。

{nbsp} +
如果攻击者输入包含对SQL解释器具有"特殊"含义的字符或字符串（如*;*、*--*或*'*）的数据，并且数据未经过正确的清理或验证，攻击者就可以修改SQL查询的预期行为，从而对数据库执行其他（恶意）操作。

下面是一个输入字段。尝试在其中输入一些SQL以更好地理解查询如何变化。
